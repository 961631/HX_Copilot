# テストデータファイル説明

## 概要
このフォルダには、端末情報管理システムのテストで使用するCSVファイルが含まれています。

## ファイル一覧

### terminal_test_data.csv
**用途**: 端末データ登録機能のテスト用データ
**形式**: CSV形式（ヘッダー行あり）

#### データ構造
| 列 | 項目名 | 説明 | サンプル値 |
|---|---|---|---|
| A | No | 通し番号（DB取り込み対象外） | 1, 2, 3... |
| B | 端末製造番号1 | 端末製造番号（IMEI）1 | 123456789012345 |
| C | 端末製造番号2 | 端末製造番号（IMEI）2 | 123456789012346 |
| D | 機器PINコード | 機器PINコード | 12345 |
| E | 納品予定日 | 納品予定日（DB取り込み対象外） | 2023/12/01 |
| F | 商品コード | 商品コード | ABCD1234 |
| G | 商品名 | 商品名（DB取り込み対象外） | テスト商品1 |

#### バリデーションルール
- 端末製造番号1: 15桁の数値（必須）
- 端末製造番号2: 15桁の数値（任意）
- 機器PINコード: 5桁の数値
- 商品コード: 8桁の英数字

### sim_test_data.csv
**用途**: SIMデータ登録機能のテスト用データ
**形式**: CSV形式（ヘッダー行あり）

#### データ構造
| 列 | 項目名 | 説明 | サンプル値 |
|---|---|---|---|
| A | No | 通し番号（DB取り込み対象外） | 1, 2, 3... |
| B | 端末電話番号 | 端末電話番号 | 08012345678 |
| C | 加入者コード | 加入者コード | 12345678 |
| D | 製造番号（ICカード） | SIM情報（ICCID） | 8981000000000000001 |
| E | ネットワーク暗証番号 | ネットワーク暗証番号 | 1234 |
| F | PINロック解除 | SIMロック解除コード | ABC12345 |
| G | 機器PINコード | 機器PINコード（DB取り込み対象外） | 12345 |
| H | 納品予定日 | 納品予定日（DB取り込み対象外） | 2023/12/01 |
| I | 受注日 | 受注日（DB取り込み対象外） | 2023/11/15 |

#### バリデーションルール
- 端末電話番号: 11桁の数値（必須）
- 加入者コード: 8桁の数値（必須）
- 製造番号（ICカード）: 19桁の数値（必須）
- ネットワーク暗証番号: 4桁の数値（必須）
- PINロック解除: 8桁の英数字（必須）

## テストシナリオ

### 正常系テスト
1. **有効なCSVファイル**: 上記データ構造に従った正常なデータ
2. **最小件数**: 1件のデータを含むファイル
3. **最大件数**: 大量データ（1000件以上）のテスト

### 異常系テスト
1. **ファイル形式エラー**: .txt, .xlsx など非CSVファイル
2. **桁数エラー**: 規定桁数を超過または不足するデータ
3. **必須項目エラー**: 必須項目が空白のデータ
4. **重複エラー**: 同一の端末製造番号が複数存在するデータ
5. **文字種エラー**: 数値項目に文字が含まれるデータ

## 使用方法

### 単体テストでの使用
```csharp
// テストメソッド内でのファイルパス指定例
string testDataPath = Path.Combine(TestContext.TestDir, "TestData", "terminal_test_data.csv");
var fileStream = new FileStream(testDataPath, FileMode.Open);
```

### 統合テストでの使用
```csharp
// HTTPファイルアップロードのモック作成例
var mockFile = new Mock<HttpPostedFileBase>();
mockFile.Setup(f => f.FileName).Returns("terminal_test_data.csv");
mockFile.Setup(f => f.ContentType).Returns("text/csv");
mockFile.Setup(f => f.InputStream).Returns(fileStream);
```

## 注意事項

1. **文字エンコーディング**: ファイルはUTF-8エンコーディングで保存してください
2. **改行コード**: Windows環境では CRLF、Unix環境では LF を使用
3. **CSVフォーマット**: ダブルクォートでの値囲み、カンマ区切り
4. **日付フォーマット**: YYYY/MM/DD 形式で統一
5. **数値フォーマット**: 先頭ゼロ埋めの数値は文字列として扱う

## 更新履歴

- 2025/08/27: 初版作成
- コーディング規約対応に伴うドキュメント整備
